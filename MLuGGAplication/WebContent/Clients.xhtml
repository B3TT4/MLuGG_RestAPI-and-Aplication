<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
           "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
   

   	
   	<f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
	   <ui:composition template="/WEB-INF/template/template.xhtml">
	   
	       	<ui:define name="conteudo" >
	       		<p:panel id="ClientsPanel" header="Clientes" style="margin-top: 2vh;">
	         		<h:form  id="formClients" method="post">
					    <div class="card" >
					        <p:dataTable var="client" value="#{clientMBean.getClientsAPI()}" showGridlines="true">
					
								<p:column headerText="ID" style="width: 2vh ">
					                <h:outputLabel value="#{client.id}"/>
					            </p:column>
					            
					            <p:column headerText="Cliente" style="width: 35vh">
					                <h:outputText value="#{client.name}" />
					            </p:column>
					
					            <p:column headerText="Cidade">
					                <h:outputText value="#{client.city}" />
					            </p:column>
					
					            <p:column headerText="UF" style="width: 15vh">
					                <h:outputText value="#{client.uf}" />
					            </p:column>
					            
					        	<p:column headerText="Telefone" style="width: 35vh">
					                <h:outputText value="#{client.phonenumber}" />
					            </p:column>
					         					           
					           
					           <p:column style="width: 2rem">
					                <p:commandButton  icon="pi pi-pencil"  
							   		styleClass="rounded-button ui-button-success" title="Alterar" action="#{clientMBean.getClientToAlterate(client)}">
				    				</p:commandButton>
					            </p:column>
					            
					            <p:column style="width: 2rem">
					                <p:commandButton  icon="pi pi-info-circle"  
							   		styleClass="rounded-button ui-button-success" title="Informações" action="#{clientMBean.getClientToInformation(client)}">
				    				</p:commandButton>
					            </p:column>
				            
					            <p:column style="width: 2rem">
					                <p:commandButton  icon="pi pi-trash"  update="formClients" action="#{clientMBean.setExcludeClientAPI(client.id)}" 
							   		styleClass="rounded-button ui-button-danger" title="Excluir" onclick = "alert('Cliente Excluído com Sucesso');">
				    				</p:commandButton>
					            </p:column>
					        </p:dataTable>
					    </div>
					 </h:form>
	         
	        	</p:panel> 
	   		</ui:define>
	   </ui:composition>
  	</f:view>
</html>